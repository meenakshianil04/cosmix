<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cosmix â€” Memory Match</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: black;
      color: white;
      text-align: center;
    }
    #game-board {
      display: grid;
      grid-template-columns: repeat(auto-fill, 150px);
      gap: 12px;
      justify-content: center;
      margin-top: 20px;
    }
    .card {
      width: 150px;
      height: 150px;
      background: gray;
      border-radius: 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      position: relative;
    }
    .card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: none; /* hidden until flipped */
    }
    .flipped img {
      display: block;
    }

    /* Popup styles */
    #fact-popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,0.9);
      padding: 20px;
      border-radius: 12px;
      text-align: center;
      max-width: 500px;
      z-index: 999;
    }
    #fact-popup img {
      width: 400px;
      max-width: 100%;
      border-radius: 10px;
      margin-bottom: 15px;
    }
    #fact-popup button {
      background: #ff9800;
      border: none;
      padding: 8px 16px;
      margin-top: 10px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>ðŸš€ Cosmix â€” Memory Match</h1>
  <h3>Find the NASA pairs and unlock facts!</h3>
  <div id="game-board"></div>

  <!-- Popup -->
  <div id="fact-popup">
    <img id="popup-img" src="" alt="NASA">
    <p id="popup-fact"></p>
    <button onclick="closePopup()">Close</button>
  </div>

  <script>
    const images = [
      'headoftherocket.jpg',
      'cosmix1.jpg',
      'cosmix2.jpg',
      'cosmix3.jpg',
      'cosmix4.jpg',
      'cosmix5.jpg',
      'cosmix6.jpg',
      'kalpana.jpg',
      'nasa.jpg',
      'neil.jpg',
      'planets.jpg',
      'rocketfire.jpg',
      'saturn.jpg',
      'solarsystem.jpg',
      'rocket.jpg',
      'mars.jpg',
      'satelite.jpg',
      'astronut.jpg'
    ];

    const facts = {'headoftherocket.jpg' : "Rocket Lab launched the first of two 6U CubeSats for NASAâ€™s PREFIRE mission on May 25, 2024, from Launch Complex 1 in Mahia, New Zealand",
      'cosmix1.jpg': "NASA's SpaceX IMAP Liftoff ,The missions will each focus on different effects of the solar wind  the continuous stream of particles emitted by the Sun and space weather , the changing conditions in space driven by the Sun ,from their origins at the Sun to their farthest reaches billions of miles away at the edge of ourÂ solarÂ system.",
      'cosmix2.jpg': 'NASA Terrestrial Planet Finder will use multiple telescopes working together to take family portraits of stars and their orbiting planets and determine which planets may have the right chemistry to sustain life.',
      'cosmix3.jpg' : 'The Andromeda galaxy is the most massive in the local group of galaxies that includes our Milky Way.',
      'cosmix4.jpg': 'While photographing Mars, NASAâ€™s Hubble Space Telescope captured a cameo appearance of the tiny moon Phobos on its trek around the Red Planet. ',
      'cosmix5.jpg': 'A dying starâ€™s final moments are captured in this image from the NASA/ESA Hubble Space Telescope.',
      'cosmix6.jpg':'Wireless crop water monitoring project: Dr. Chris Lund, a scientist who is working on the NASA project at NASA Ames installs soil mositure probes in an agricultural field. The soil mositure measurements will be used to assist in interpretation of the satelite estimates of crop water deamand.',
      'kalpana.jpg' : 'Kalpana Chawla was the first Indian-born woman in space. She flew on the Space Shuttle Columbia and inspired millions with her courage and dedication to spaceÂ exploration',
      'nasa.jpg': 'NASA was founded in 1958 to explore space and study Earth. Its missions include sending astronauts to the Moon, exploring Mars with rovers, and studying the universe with telescopesÂ likeÂ Hubble.',
      'neil.jpg' : 'Neil Armstrong was the first person to walk on the Moon on July 20, 1969, during NASAâ€™s Apollo 11 mission. His famous words were: â€˜Thatâ€™s one small step for [a] man, one giant leapÂ forÂ mankind.',
      'planets.jpg' : 'This artist concept shows the smallest star known to host a planet. The planet, called VB 10b, was discovered using astrometry, a method in which the wobble induced by a planet on its star is measured preciselyÂ onÂ theÂ sky.',
      'rocketfire.jpg' : "On May 8, 2024, a Rocket Lab Electron rocket launched two NASA TROPICS CubeSats from MÄhia, New Zealand, to study tropical cyclones by measuring temperature, precipitation, water vapor, and clouds using microwaveÂ frequencies.",
      'saturn.jpg' : 'Saturn is famous for its beautiful rings, which are made of ice and rock. If you could put Saturn in a giant bathtub, it would float because itâ€™s less denseÂ thanÂ water!',
      'solarsystem.jpg' : "Our solar system features eight planets, seen in this artistâ€™s diagram. This representation is intentionally fanciful, as the planets are depicted far closer together than theyÂ reallyÂ are.",
      'rocket.jpg' : 'Rocket Lab launched the first of two 6U CubeSats for NASAâ€™s PREFIRE mission on May 25, 2024, from Launch Complex 1 in Mahia, New Zealand',
      'astronut.jpg' :  "Astronaut John H. Glenn sits in a car in front of the east side of the Mercury Mission Control building. Glenn was the pilot for the Mercury-Atlas 6 mission aboard Friendship 7, which launchedÂ Feb.Â 20,Â 1962.",
      'mars.jpg' : "â€œMars is known as the Red Planet because of its reddish appearance caused by iron oxide (rust) on its surface. NASAâ€™s Perseverance rover is exploring the Jezero Crater for signs ofÂ ancientÂ life.",
      'satelite.jpg' : 'NASA uses satellites to study Earth and space. Some satellites track weather, monitor climate change, and take amazing pictures of planetsÂ andÂ stars'
        };

    let level = 1;
    let selectedCards = [];
    let matched = 0;

    function startGame() {
      const board = document.getElementById("game-board");
      board.innerHTML = "";
      selectedCards = [];
      matched = 0;

      let pairs = level === 1 ? 4 : (level === 2 ? 6 : 8);
      let chosen = images.slice((level-1)*pairs, (level-1)*pairs + pairs);
      let cards = [...chosen, ...chosen].sort(() => 0.5 - Math.random());

      cards.forEach(img => {
        const card = document.createElement("div");
        card.classList.add("card");
        card.dataset.image = img;

        const cardImg = document.createElement("img");
        cardImg.src = img;
        card.appendChild(cardImg);

        card.addEventListener("click", flipCard);
        board.appendChild(card);
      });
    }

    function flipCard() {
      if (this.classList.contains("flipped") || selectedCards.length === 2) return;

      this.classList.add("flipped");
      selectedCards.push(this);

      if (selectedCards.length === 2) {
        const [c1, c2] = selectedCards;
        if (c1.dataset.image === c2.dataset.image) {
          matched++;
          showPopup(c1.dataset.image); // Show fact + large image
          selectedCards = [];
          if (matched === (level === 1 ? 4 : (level === 2 ? 6 : 8))) {
            setTimeout(() => {
              if (level < 3) {
                alert("Level " + level + " complete! ðŸš€ Moving to next level...");
                level++;
                startGame();
              } else {
                alert("ðŸŽ‰ Congratulations! You finished all levels!");
              }
            }, 500);
          }
        } else {
          setTimeout(() => {
            c1.classList.remove("flipped");
            c2.classList.remove("flipped");
            selectedCards = [];
          }, 800);
        }
      }
    }

    function showPopup(img) {
      document.getElementById("popup-img").src = img;
      document.getElementById("popup-fact").innerText = facts[img];
      document.getElementById("fact-popup").style.display = "block";
    }

    function closePopup() {
      document.getElementById("fact-popup").style.display = "none";
    }

    startGame();
  </script>
</body>
</html>