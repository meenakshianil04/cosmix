<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cosmix â€” Memory Match</title>
<style>
body {
  font-family: Arial, sans-serif;
  color: rgb(243, 237, 246);
  text-align: center;

  /* Full-page background image */
  background-image: url('space-galaxy-background.jpg'); /* replace with your local image file */
  background-size: cover;             /* makes image cover whole page */
  background-position: center;        /* centers the image */
  background-repeat: no-repeat;       /* prevents tiling */
  height: 100vh;                      /* ensures body fills the viewport */
  margin: 0;
  padding: 0;
}

#game-board {
  display: grid;
  gap: 12px;
  justify-content: center;   /* center the whole grid */
  margin-top: 20px;
}
.card {
  width: 150px;
  height: 150px;
  background: rgba(30, 30, 40, 0.9); /* dark card background */
  border-radius: 12px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  position: relative;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.card:hover {
  transform: scale(1.05); /* slight zoom */
  box-shadow: 0 0 15px #00bfff, 0 0 30px #00bfff50 inset; /* glow effect */
}

.card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: none;
}
.flipped img { display: block; }

#fact-popup {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(87, 78, 78, 0.9);
  padding: 20px;
  border-radius: 12px;
  text-align: center;
  max-width: 500px;
  z-index: 999;
}
#fact-popup img {
  width: 400px;
  max-width: 100%;
  border-radius: 10px;
  margin-bottom: 15px;
}
#fact-popup button {
  background: #ede6db;
  border: none;
  padding: 8px 16px;
  margin-top: 10px;
  border-radius: 6px;
  cursor: pointer;
  font-weight: bold;
}
</style>
</head>
<body>
<h1>ðŸš€ Cosmix </h1>
<h3>Play and learn about SPACE and NASA !</h3>
<div id="game-board"></div>
<!-- Level display on top-right -->
<div id="level-display">Level: 1</div>

<!-- Fact Popup -->
<div id="fact-popup">
  <img id="popup-img" src="" alt="NASA Fact">
  <p id="popup-fact"></p>
  <button id="next-level-btn" onclick="nextLevel()">Next Level</button>
</div>


<script>
const levelLayouts = [
  { rows: 2, cols: 4 }, // Level 1
  { rows: 3, cols: 4 }, // Level 2
  { rows: 4, cols: 4 }  // Level 3
];

const images = [
  'headoftherocket.jpg','cosmix1.jpg','cosmix2.jpg','cosmix3.jpg','cosmix4.jpg','cosmix5.jpg',
  'cosmix6.jpg','kalpana.jpg','nasa.jpg','neil.jpg','planets.jpg','rocketfire.jpg',
  'saturn.jpg','solarsystem.jpg','rocket.jpg','mars.jpg','satelite.jpg','astronut.jpg'
];

const facts = {
  'headoftherocket.jpg': "Rocket Lab launched the first of two 6U CubeSats for NASAâ€™s PREFIRE mission.",
  'cosmix1.jpg': "NASA's SpaceX IMAP Liftoff focuses on solar wind and space weather.",
  'cosmix2.jpg': "NASA Terrestrial Planet Finder searches for planets that may support life.",
  'cosmix3.jpg': "The Andromeda galaxy is the most massive in the local group.",
  'cosmix4.jpg': "NASAâ€™s Hubble captured the tiny moon Phobos orbiting Mars.",
  'cosmix5.jpg': "A dying starâ€™s final moments captured by NASA/ESA Hubble.",
  'cosmix6.jpg': "NASAâ€™s soil moisture project monitors crop water demand.",
  'kalpana.jpg': "Kalpana Chawla, first Indian-born woman in space.",
  'nasa.jpg': "NASA founded in 1958 to explore space and study Earth.",
  'neil.jpg': "Neil Armstrong, first person to walk on the Moon in 1969.",
  'planets.jpg': "Planet VB 10b discovered using astrometry.",
  'rocketfire.jpg': "Rocket Lab launched NASA TROPICS CubeSats to study cyclones.",
  'saturn.jpg': "Saturnâ€™s rings are made of ice and rock.",
  'solarsystem.jpg': "Our solar system has eight planets.",
  'rocket.jpg': "Rocket Lab launched the first of two CubeSats for NASA PREFIRE.",
  'astronut.jpg': "John Glenn piloted Mercury-Atlas 6 mission in 1962.",
  'mars.jpg': "Mars is Red Planet due to iron oxide. Perseverance rover searches for ancient life.",
  'satelite.jpg': "NASA satellites monitor Earthâ€™s weather, climate change, and planets."
};

let level = 1;
let selectedCards = [];
let matched = 0;

function startGame() {
  const board = document.getElementById("game-board");
  board.innerHTML = '';
  selectedCards = [];
  matched = 0;

  let pairs = level === 1 ? 4 : (level === 2 ? 6 : 8); // number of pairs
  let chosen = images.slice((level-1)*pairs, (level-1)*pairs + pairs);
  let cards = [...chosen, ...chosen].sort(() => 0.5 - Math.random());

  // Set fixed grid layout for each level
  const { rows, cols } = levelLayouts[level-1];
  board.style.gridTemplateColumns = `repeat(${cols}, 150px)`;
  board.style.gridTemplateRows = `repeat(${rows}, 150px)`;

  cards.forEach(img => {
    const card = document.createElement("div");
    card.classList.add("card");
    card.dataset.image = img;
    const cardImg = document.createElement("img");
    cardImg.src = img;
    card.appendChild(cardImg);
    card.addEventListener("click", flipCard);
    board.appendChild(card);
  });
}

function flipCard() {
  if (this.classList.contains("flipped") || selectedCards.length === 2) return;

  this.classList.add("flipped");
  selectedCards.push(this);

  if (selectedCards.length === 2) {
    const [c1, c2] = selectedCards;
    if (c1.dataset.image === c2.dataset.image) {
      matched++;
      showPopup(c1.dataset.image);
      selectedCards = [];
      if (matched === (level === 1 ? 4 : (level === 2 ? 6 : 8))) {
        setTimeout(() => {
          if (level < 3) {
            alert("Level " + level + " complete! ðŸš€ Moving to next level...");
            level++;
            startGame();
          } else {
            alert("ðŸŽ‰ Congratulations! You finished all levels!");
          }
        }, 500);
      }
    } else {
      setTimeout(() => {
        c1.classList.remove("flipped");
        c2.classList.remove("flipped");
        selectedCards = [];
      }, 800);
    }
  }
}

function showPopup(img) {
  document.getElementById("popup-img").src = img;
  document.getElementById("popup-fact").innerText = facts[img];
  document.getElementById("fact-popup").style.display = "block";
}

function closePopup() {
  document.getElementById("fact-popup").style.display = "none";
}

startGame();
</script>
</body>
</html>
